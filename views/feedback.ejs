

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/styles.css">
    <script src="https://kit.fontawesome.com/92ae2ccd1b.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
    <title><%= title %></title>
</head>
<body>
    <header>
        <%- include('partials/nav.ejs') %> <!-- Include the navbar here -->
    </header>
    <div class="container">
        <div class="submission">
            <h1>Feedback</h1>
            <h5>You can post your feedback here! Your posts are anonymized.</h5>
            <form action="/feedback" method="POST" class="feedback-form">
                <label for="feedback">Feedback:</label><br>
                <textarea id="feedback-input" name="feedback" rows="4" cols="50" required style="color:black;"></textarea><br><br>
                
                <input type="submit" id="feedback-submit" value="Submit" class="btn btn-primary">
            </form>            
        </div>
        
        <div class="feedback">
            <h2>Past Feedback:</h2>
            <ul>
                <% feedbacks.forEach(function(feedback) { %>
                    <li><%= feedback.feedback_text %></li>
                <% }); %>
            </ul>
        </div>
    </div>
    
    <script>
        // Scroll to the bottom of the message container with a delay after the page loads
        document.addEventListener("DOMContentLoaded", function() {
            var messageContainer = document.getElementById("message-container");

            // Adjust this value as needed to control the delay (in milliseconds)
            var scrollDelay = 100; // 0.1 seconds delay

            setTimeout(function() {
                messageContainer.scrollTop = messageContainer.scrollHeight;
            }, scrollDelay);
        });
        document.addEventListener("DOMContentLoaded", function() {
    var submitButton = document.getElementById("feedback-submit");
    var feedbackInput = document.getElementById("feedback-input");

    submitButton.addEventListener("click", function(event) {
<<<<<<< HEAD
        
=======
        event.preventDefault(); // Prevent the form from submitting
>>>>>>> 5218ea6d028b34889a9b8beca8a4909e8022e33b

        var feedback = feedbackInput.value;
        if (feedback !== "") {
            // Send an AJAX request or perform any client-side operations here
<<<<<<< HEAD
            submitButton.classList.add("btn-primary");
            submitButton.classList.remove("btn-danger")
=======
>>>>>>> 5218ea6d028b34889a9b8beca8a4909e8022e33b
            console.log("User feedback:", feedback);
        } else {
            //change button color
            submitButton.classList.remove("btn-primary");
            submitButton.classList.add("btn-danger");
            //alert user
            alert("Please enter feedback.");
<<<<<<< HEAD
            
=======
>>>>>>> 5218ea6d028b34889a9b8beca8a4909e8022e33b
        }
    });
});
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>
